<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ³æ³¡æ³¡å¤§æŒ‘æˆ°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
            color: white;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 30px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.2);
            width: 100%;
            max-width: 1200px;
            position: relative;
            overflow: hidden;
        }

        .game-header {
            text-align: center;
            margin-bottom: 25px;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            background: linear-gradient(90deg, #ff9a9e, #fad0c4, #fad0c4, #a1c4fd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 300% auto;
            animation: gradient 3s ease-in-out infinite;
        }

        @keyframes gradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .game-info {
            display: flex;
            justify-content: space-around;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 25px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .info-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .info-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        .info-value {
            font-size: 2.5rem;
            font-weight: bold;
            min-width: 120px;
            text-align: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 10px 25px;
            border-radius: 15px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        #score { color: #ff9a9e; }
        #timeLeft { color: #a1c4fd; }
        #level { color: #fad0c4; }
        #bubblesPopped { color: #96f2d7; }

        .game-area {
            position: relative;
            width: 100%;
            height: 500px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 25px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            cursor: crosshair;
        }

        .bubble {
            position: absolute;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 
                inset 0 -10px 20px rgba(255, 255, 255, 0.3),
                inset 0 10px 20px rgba(255, 255, 255, 0.1),
                0 5px 15px rgba(0, 0, 0, 0.3);
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.4));
            overflow: hidden;
            transition: transform 0.2s ease;
        }

        .bubble::before {
            content: '';
            position: absolute;
            top: 15%;
            left: 25%;
            width: 20%;
            height: 20%;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            filter: blur(2px);
        }

        .bubble.popping {
            animation: pop 0.3s ease-out forwards;
        }

        @keyframes pop {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.7; }
            100% { transform: scale(0); opacity: 0; }
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 25px;
        }

        .control-btn {
            padding: 15px 35px;
            border: none;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 180px;
            justify-content: center;
        }

        #startBtn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        #pauseBtn {
            background: linear-gradient(135deg, #FF9800, #f57c00);
            color: white;
        }

        #restartBtn {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
        }

        .control-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .combo-effect {
            position: absolute;
            font-size: 2rem;
            font-weight: bold;
            color: #ff9a9e;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            z-index: 100;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }

        .game-status {
            text-align: center;
            margin-top: 20px;
            min-height: 60px;
        }

        #statusMessage {
            font-size: 1.5rem;
            font-weight: bold;
            padding: 15px 30px;
            border-radius: 15px;
            display: inline-block;
            background: rgba(0, 0, 0, 0.3);
        }

        .game-over {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            border-radius: 20px;
            display: none;
        }

        .game-over h2 {
            font-size: 4rem;
            color: #ff9a9e;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .game-container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .game-area {
                height: 400px;
            }
            
            .controls {
                flex-wrap: wrap;
            }
            
            .control-btn {
                min-width: 140px;
                padding: 12px 25px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <h1>ğŸˆ æˆ³æ³¡æ³¡å¤§æŒ‘æˆ° ğŸˆ</h1>
        </div>

        <div class="game-info">
            <div class="info-item">
                <div class="info-label">åˆ†æ•¸</div>
                <div class="info-value" id="score">0</div>
            </div>
            <div class="info-item">
                <div class="info-label">å‰©é¤˜æ™‚é–“</div>
                <div class="info-value" id="timeLeft">60</div>
            </div>
            <div class="info-item">
                <div class="info-label">é—œå¡</div>
                <div class="info-value" id="level">1</div>
            </div>
            <div class="info-item">
                <div class="info-label">æ³¡æ³¡æ•¸</div>
                <div class="info-value" id="bubblesPopped">0</div>
            </div>
        </div>

        <div class="game-area" id="gameArea">
            <!-- æ³¡æ³¡æœƒåœ¨é€™è£¡ç”Ÿæˆ -->
        </div>

        <div class="controls">
            <button class="control-btn" id="startBtn">
                <span>â–¶ï¸</span> é–‹å§‹éŠæˆ²
            </button>
            <button class="control-btn" id="pauseBtn">
                <span>â¸ï¸</span> æš«åœéŠæˆ²
            </button>
            <button class="control-btn" id="restartBtn">
                <span>ğŸ”„</span> é‡æ–°é–‹å§‹
            </button>
        </div>

        <div class="game-status">
            <div id="statusMessage">é»æ“Šã€Œé–‹å§‹éŠæˆ²ã€ä¾†æŒ‘æˆ°ï¼</div>
        </div>

        <div class="game-over" id="gameOverScreen">
            <h2>éŠæˆ²çµæŸï¼</h2>
            <p style="font-size: 2rem; margin-bottom: 30px;">æœ€çµ‚åˆ†æ•¸: <span id="finalScore">0</span></p>
            <button class="control-btn" id="tryAgainBtn">
                <span>ğŸ®</span> å†ç©ä¸€æ¬¡
            </button>
        </div>
    </div>

    <script>
        // éŠæˆ²ç‹€æ…‹
        let gameState = {
            score: 0,
            timeLeft: 60,
            level: 1,
            bubblesPopped: 0,
            gameActive: false,
            gamePaused: false,
            gameLoop: null,
            spawnInterval: null,
            bubbles: [],
            lastSpawnTime: 0,
            combo: 0,
            maxCombo: 0,
            comboTimeout: null
        };

        // DOM å…ƒç´ 
        const gameArea = document.getElementById('gameArea');
        const scoreElement = document.getElementById('score');
        const timeLeftElement = document.getElementById('timeLeft');
        const levelElement = document.getElementById('level');
        const bubblesPoppedElement = document.getElementById('bubblesPopped');
        const statusMessage = document.getElementById('statusMessage');
        const gameOverScreen = document.getElementById('gameOverScreen');
        const finalScoreElement = document.getElementById('finalScore');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const restartBtn = document.getElementById('restartBtn');
        const tryAgainBtn = document.getElementById('tryAgainBtn');

        // æ³¡æ³¡é¡è‰²é…ç½®
        const BUBBLE_TYPES = [
            { color: 'rgba(255, 255, 255, 0.9)', points: 10, size: 60 },  // ç™½è‰²æ³¡æ³¡
            { color: 'rgba(173, 216, 230, 0.9)', points: 20, size: 50 },  // æ·¡è—è‰²æ³¡æ³¡
            { color: 'rgba(144, 238, 144, 0.9)', points: 30, size: 55 },  // æ·¡ç¶ è‰²æ³¡æ³¡
            { color: 'rgba(255, 182, 193, 0.9)', points: 40, size: 45 },  // ç²‰ç´…è‰²æ³¡æ³¡
            { color: 'rgba(255, 215, 0, 0.9)', points: 100, size: 70 },   // é‡‘è‰²æ³¡æ³¡ï¼ˆé«˜åˆ†ï¼‰
            { color: 'rgba(255, 69, 0, 0.9)', points: -30, size: 65 },    // ç´…è‰²æ³¡æ³¡ï¼ˆæ‰£åˆ†ï¼‰
            { color: 'rgba(147, 112, 219, 0.9)', points: 50, size: 48 }   // ç´«è‰²æ³¡æ³¡
        ];

        // åˆå§‹åŒ–éŠæˆ²
        function initGame() {
            console.log('åˆå§‹åŒ–éŠæˆ²...');
            
            // é‡ç½®éŠæˆ²ç‹€æ…‹
            gameState.score = 0;
            gameState.timeLeft = 60;
            gameState.level = 1;
            gameState.bubblesPopped = 0;
            gameState.gameActive = false;
            gameState.gamePaused = false;
            gameState.bubbles = [];
            gameState.combo = 0;
            gameState.maxCombo = 0;
            
            // æ¸…é™¤æ‰€æœ‰æ³¡æ³¡
            document.querySelectorAll('.bubble').forEach(bubble => bubble.remove());
            
            // æ¸…é™¤æ‰€æœ‰è¨ˆæ™‚å™¨
            if (gameState.gameLoop) {
                cancelAnimationFrame(gameState.gameLoop);
                gameState.gameLoop = null;
            }
            if (gameState.spawnInterval) {
                clearInterval(gameState.spawnInterval);
                gameState.spawnInterval = null;
            }
            if (gameState.comboTimeout) {
                clearTimeout(gameState.comboTimeout);
            }
            
            // éš±è—éŠæˆ²çµæŸç•«é¢
            gameOverScreen.style.display = 'none';
            
            // æ›´æ–°é¡¯ç¤º
            updateDisplay();
            
            statusMessage.textContent = 'æº–å‚™å¥½äº†å—ï¼Ÿé»æ“Šé–‹å§‹éŠæˆ²ï¼';
            statusMessage.style.color = '#a1c4fd';
            
            console.log('éŠæˆ²åˆå§‹åŒ–å®Œæˆ');
        }

        // é–‹å§‹éŠæˆ²
        function startGame() {
            console.log('é–‹å§‹éŠæˆ²...');
            
            if (gameState.gameActive) {
                console.log('éŠæˆ²å·²ç¶“åœ¨é€²è¡Œä¸­');
                return;
            }
            
            gameState.gameActive = true;
            gameState.gamePaused = false;
            gameState.timeLeft = 60;
            
            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            startBtn.disabled = true;
            startBtn.style.opacity = '0.5';
            
            // é–‹å§‹éŠæˆ²å¾ªç’°
            gameLoop();
            
            // é–‹å§‹ç”Ÿæˆæ³¡æ³¡
            startSpawningBubbles();
            
            statusMessage.textContent = 'éŠæˆ²é€²è¡Œä¸­ï¼å¿«é»æˆ³ç ´æ³¡æ³¡ï¼';
            statusMessage.style.color = '#96f2d7';
            
            console.log('éŠæˆ²å·²é–‹å§‹');
        }

        // éŠæˆ²ä¸»å¾ªç’°
        function gameLoop() {
            if (!gameState.gameActive || gameState.gamePaused) {
                return;
            }
            
            // æ›´æ–°æ™‚é–“
            if (gameState.timeLeft > 0) {
                gameState.timeLeft -= 1/60; // ç´„60fps
                if (gameState.timeLeft < 0) gameState.timeLeft = 0;
                updateDisplay();
            } else {
                gameOver();
                return;
            }
            
            // æ›´æ–°æ³¡æ³¡ä½ç½®
            updateBubbles();
            
            // ç¹¼çºŒéŠæˆ²å¾ªç’°
            gameState.gameLoop = requestAnimationFrame(gameLoop);
        }

        // é–‹å§‹ç”Ÿæˆæ³¡æ³¡
        function startSpawningBubbles() {
            console.log('é–‹å§‹ç”Ÿæˆæ³¡æ³¡...');
            
            if (gameState.spawnInterval) {
                clearInterval(gameState.spawnInterval);
            }
            
            // æ ¹æ“šç­‰ç´šèª¿æ•´ç”Ÿæˆé€Ÿåº¦
            const spawnRate = 800 - (gameState.level - 1) * 100;
            gameState.spawnInterval = setInterval(spawnBubble, Math.max(200, spawnRate));
        }

        // ç”Ÿæˆæ³¡æ³¡
        function spawnBubble() {
            if (!gameState.gameActive || gameState.gamePaused) return;
            
            const bubbleType = BUBBLE_TYPES[Math.floor(Math.random() * BUBBLE_TYPES.length)];
            const size = bubbleType.size + Math.random() * 20;
            
            // éš¨æ©Ÿä½ç½®ï¼ˆç¢ºä¿æ³¡æ³¡ä¸æœƒè¶…å‡ºé‚Šç•Œï¼‰
            const x = Math.random() * (gameArea.offsetWidth - size);
            const y = gameArea.offsetHeight;
            
            // éš¨æ©Ÿé€Ÿåº¦
            const speed = 1 + Math.random() * 2 + (gameState.level * 0.5);
            
            // å‰µå»ºæ³¡æ³¡å…ƒç´ 
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            bubble.style.width = `${size}px`;
            bubble.style.height = `${size}px`;
            bubble.style.left = `${x}px`;
            bubble.style.top = `${y}px`;
            bubble.style.background = bubbleType.color;
            bubble.style.border = `3px solid ${bubbleType.color.replace('0.9', '0.7')}`;
            
            // æ·»åŠ é»æ“Šäº‹ä»¶
            bubble.addEventListener('click', () => popBubble(bubble, bubbleType));
            bubble.addEventListener('touchstart', (e) => {
                e.preventDefault();
                popBubble(bubble, bubbleType);
            }, { passive: false });
            
            gameArea.appendChild(bubble);
            
            // å„²å­˜æ³¡æ³¡è³‡æ–™
            gameState.bubbles.push({
                element: bubble,
                type: bubbleType,
                speed: speed,
                x: x,
                y: y,
                size: size
            });
            
            console.log(`ç”Ÿæˆæ³¡æ³¡ï¼Œç›®å‰æ³¡æ³¡æ•¸é‡: ${gameState.bubbles.length}`);
        }

        // æ›´æ–°æ³¡æ³¡ä½ç½®
        function updateBubbles() {
            for (let i = gameState.bubbles.length - 1; i >= 0; i--) {
                const bubble = gameState.bubbles[i];
                
                if (!bubble.element || !bubble.element.parentNode) {
                    gameState.bubbles.splice(i, 1);
                    continue;
                }
                
                // å‘ä¸Šç§»å‹•
                bubble.y -= bubble.speed;
                bubble.element.style.top = `${bubble.y}px`;
                
                // å¦‚æœæ³¡æ³¡è¶…å‡ºé ‚éƒ¨ï¼Œç§»é™¤å®ƒ
                if (bubble.y < -bubble.size) {
                    bubble.element.remove();
                    gameState.bubbles.splice(i, 1);
                }
            }
        }

        // æˆ³ç ´æ³¡æ³¡
        function popBubble(bubbleElement, bubbleType) {
            if (!gameState.gameActive || gameState.gamePaused) return;
            
            console.log('æˆ³ç ´æ³¡æ³¡ï¼');
            
            // ç§»é™¤æ³¡æ³¡
            bubbleElement.classList.add('popping');
            
            // æ›´æ–°é€£æ“Š
            updateCombo();
            
            // è¨ˆç®—åˆ†æ•¸
            let points = bubbleType.points;
            
            // æ›´æ–°éŠæˆ²ç‹€æ…‹
            gameState.score += points;
            gameState.bubblesPopped++;
            
            // é¡¯ç¤ºå¾—åˆ†æ•ˆæœ
            showScoreEffect(bubbleElement, points);
            
            // å¾æ•¸çµ„ä¸­ç§»é™¤æ³¡æ³¡
            const bubbleIndex = gameState.bubbles.findIndex(b => b.element === bubbleElement);
            if (bubbleIndex > -1) {
                gameState.bubbles.splice(bubbleIndex, 1);
            }
            
            // æ›´æ–°é¡¯ç¤º
            updateDisplay();
            
            // æ’­æ”¾éŸ³æ•ˆï¼ˆæ¨¡æ“¬ï¼‰
            playPopSound();
            
            // æª¢æŸ¥ç´…è‰²æ³¡æ³¡ï¼ˆæ‰£åˆ†ï¼‰
            if (points < 0) {
                gameState.timeLeft = Math.max(5, gameState.timeLeft - 5);
                showStatusMessage('æ™‚é–“æ¸›å°‘5ç§’ï¼', '#ff6b6b');
            }
            
            // ç§»é™¤æ³¡æ³¡å…ƒç´ 
            setTimeout(() => {
                if (bubbleElement && bubbleElement.parentNode) {
                    bubbleElement.remove();
                }
            }, 300);
        }

        // æ›´æ–°é€£æ“Šç³»çµ±
        function updateCombo() {
            gameState.combo++;
            gameState.maxCombo = Math.max(gameState.maxCombo, gameState.combo);
            
            // é¡¯ç¤ºé€£æ“Šæ•ˆæœ
            if (gameState.combo > 1) {
                showComboEffect(gameState.combo);
            }
            
            // é‡ç½®é€£æ“Šè¨ˆæ™‚å™¨
            if (gameState.comboTimeout) {
                clearTimeout(gameState.comboTimeout);
            }
            
            gameState.comboTimeout = setTimeout(() => {
                if (gameState.combo >= 5) {
                    const bonus = gameState.combo * 10;
                    gameState.score += bonus;
                    showStatusMessage(`é€£æ“Š${gameState.combo}æ¬¡ï¼çå‹µ+${bonus}åˆ†`, '#ff9a9e');
                }
                gameState.combo = 0;
            }, 2000);
        }

        // é¡¯ç¤ºå¾—åˆ†æ•ˆæœ
        function showScoreEffect(element, points) {
            const effect = document.createElement('div');
            effect.className = 'combo-effect';
            effect.textContent = points > 0 ? `+${points}` : points;
            effect.style.left = `${element.offsetLeft + element.offsetWidth / 2}px`;
            effect.style.top = `${element.offsetTop}px`;
            effect.style.color = points > 0 ? '#96f2d7' : '#ff6b6b';
            
            gameArea.appendChild(effect);
            
            setTimeout(() => {
                if (effect.parentNode) {
                    effect.remove();
                }
            }, 1000);
        }

        // é¡¯ç¤ºé€£æ“Šæ•ˆæœ
        function showComboEffect(combo) {
            const effect = document.createElement('div');
            effect.className = 'combo-effect';
            effect.textContent = `COMBO x${combo}!`;
            effect.style.left = '50%';
            effect.style.top = '50%';
            effect.style.transform = 'translate(-50%, -50%)';
            effect.style.fontSize = `${Math.min(3, 1 + combo * 0.2)}rem`;
            effect.style.color = '#ff9a9e';
            
            gameArea.appendChild(effect);
            
            setTimeout(() => {
                if (effect.parentNode) {
                    effect.remove();
                }
            }, 1000);
        }

        // é¡¯ç¤ºç‹€æ…‹è¨Šæ¯
        function showStatusMessage(message, color) {
            statusMessage.textContent = message;
            statusMessage.style.color = color;
            
            setTimeout(() => {
                if (gameState.gameActive && !gameState.gamePaused) {
                    statusMessage.textContent = 'éŠæˆ²é€²è¡Œä¸­ï¼å¿«é»æˆ³ç ´æ³¡æ³¡ï¼';
                    statusMessage.style.color = '#96f2d7';
                }
            }, 2000);
        }

        // æš«åœéŠæˆ²
        function togglePause() {
            if (!gameState.gameActive) return;
            
            gameState.gamePaused = !gameState.gamePaused;
            
            if (gameState.gamePaused) {
                pauseBtn.innerHTML = '<span>â–¶ï¸</span> ç¹¼çºŒéŠæˆ²';
                statusMessage.textContent = 'éŠæˆ²æš«åœä¸­...';
                statusMessage.style.color = '#ff9a9e';
                
                // åœæ­¢ç”Ÿæˆæ³¡æ³¡
                if (gameState.spawnInterval) {
                    clearInterval(gameState.spawnInterval);
                    gameState.spawnInterval = null;
                }
            } else {
                pauseBtn.innerHTML = '<span>â¸ï¸</span> æš«åœéŠæˆ²';
                statusMessage.textContent = 'éŠæˆ²ç¹¼çºŒï¼';
                statusMessage.style.color = '#96f2d7';
                
                // æ¢å¾©éŠæˆ²å¾ªç’°
                gameLoop();
                
                // æ¢å¾©ç”Ÿæˆæ³¡æ³¡
                startSpawningBubbles();
            }
        }

        // éŠæˆ²çµæŸ
        function gameOver() {
            console.log('éŠæˆ²çµæŸ');
            
            gameState.gameActive = false;
            gameState.gamePaused = false;
            
            // åœæ­¢æ‰€æœ‰è¨ˆæ™‚å™¨
            if (gameState.gameLoop) {
                cancelAnimationFrame(gameState.gameLoop);
                gameState.gameLoop = null;
            }
            
            if (gameState.spawnInterval) {
                clearInterval(gameState.spawnInterval);
                gameState.spawnInterval = null;
            }
            
            if (gameState.comboTimeout) {
                clearTimeout(gameState.comboTimeout);
            }
            
            // æ¸…é™¤æ‰€æœ‰æ³¡æ³¡
            gameState.bubbles.forEach(bubble => {
                if (bubble.element && bubble.element.parentNode) {
                    bubble.element.remove();
                }
            });
            gameState.bubbles = [];
            
            // é¡¯ç¤ºéŠæˆ²çµæŸç•«é¢
            finalScoreElement.textContent = gameState.score;
            gameOverScreen.style.display = 'flex';
            
            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            startBtn.disabled = false;
            startBtn.style.opacity = '1';
            
            statusMessage.textContent = `éŠæˆ²çµæŸï¼æœ€çµ‚åˆ†æ•¸: ${gameState.score}`;
            statusMessage.style.color = '#ff6b6b';
        }

        // æ›´æ–°é¡¯ç¤º
        function updateDisplay() {
            scoreElement.textContent = Math.floor(gameState.score);
            timeLeftElement.textContent = Math.ceil(gameState.timeLeft);
            levelElement.textContent = gameState.level;
            bubblesPoppedElement.textContent = gameState.bubblesPopped;
        }

        // æ’­æ”¾æˆ³ç ´éŸ³æ•ˆï¼ˆæ¨¡æ“¬ï¼‰
        function playPopSound() {
            // é€™è£¡å¯ä»¥æ·»åŠ çœŸå¯¦çš„éŸ³æ•ˆ
            // const audio = new Audio('pop.mp3');
            // audio.play();
        }

        // äº‹ä»¶ç›£è½å™¨
        startBtn.addEventListener('click', startGame);
        pauseBtn.addEventListener('click', togglePause);
        restartBtn.addEventListener('click', initGame);
        tryAgainBtn.addEventListener('click', initGame);

        // åˆå§‹åŒ–éŠæˆ²
        initGame();
        
        console.log('éŠæˆ²å·²æº–å‚™å¥½ï¼Œé»æ“Šé–‹å§‹éŠæˆ²æŒ‰éˆ•å³å¯é–‹å§‹');
    </script>
</body>
</html>